@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Oswald:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light (daytime) mode - parchment/wheat */
    --background: 44 31% 95%; /* #f5f1e8 */
    --foreground: 0 0% 20%;
    --sidebar-bg: 30 30% 6%; /* Brown in light mode */
    --content-bg: 44 31% 95%;

    /* Gold palette */
    --gold-text: 42 49% 58%; /* #C9A961 (all gold text) */
    --gold-dark: 40 38% 44%; /* #9B7E46 */
    --gold-base: 46 65% 52%; /* #D4AF37 */
    --gold-light: 38 60% 74%; /* #E5C896 */

    /* Sidebar text */
    --sidebar-text: 44 31% 95%; /* match light background */
    --sidebar-divider: 102 102 102; /* gray RGB */
    --sidebar-divider-alpha: 0.3; /* stronger in light mode */

    --popover: 44 31% 95%;
    --popover-foreground: 0 0% 15%;
    --border: 0 0% 85%;
    --radius: 0.5rem;
  }

  .dark {
    /* Dark (night) mode */
    --background: 30 30% 6%; /* rich dark brown */
    --foreground: 0 0% 92%;
    --sidebar-bg: 0 0% 0%; /* Black in dark mode */
    --content-bg: 30 30% 6%; /* rich dark brown */
    --sidebar-divider: 102 102 102; /* gray RGB */
    --sidebar-divider-alpha: 0.2; /* softer in dark mode */

    --popover: 220 25% 10%;
    --popover-foreground: 0 0% 95%;
    --border: 0 0% 25%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-[hsl(var(--content-bg))] text-foreground antialiased;
    font-family: 'EB Garamond', serif;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

}

/* Background texture - topographic contour map */
@layer utilities {
  .gold-text-base {
    color: #C99A5A;
  }

  .gold-text-hover {
    color: #E2C79A;
  }

  .gold-text-hoverable {
    color: #C99A5A;
  }

  .gold-text-on-hover {
    color: inherit;
  }

  @supports ((-webkit-background-clip: text) or (background-clip: text)) {
    .gold-text-base {
      background-image: linear-gradient(90deg, #B88A4F 0%, #C99A5A 50%, #D8B06F 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
    }

    .gold-text-hover {
      background-image: linear-gradient(90deg, #D6B37C 0%, #E2C79A 50%, #EFE2C9 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
    }

    .gold-text-hoverable {
      background-image: linear-gradient(90deg, #B88A4F 0%, #C99A5A 50%, #D8B06F 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
    }

    .gold-text-hoverable:hover,
    .group:hover .gold-text-hoverable,
    .gold-text-hoverable.is-active {
      background-image: linear-gradient(90deg, #D6B37C 0%, #E2C79A 50%, #EFE2C9 100%);
    }

    .gold-text-on-hover.is-active,
    .group:hover .gold-text-on-hover,
    .gold-text-on-hover:hover {
      background-image: linear-gradient(90deg, #D6B37C 0%, #E2C79A 50%, #EFE2C9 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
    }
  }

  .bg-topographic {
    background-image: url('/topo2.svg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  .bg-topographic-light {
    background-image: url('/topo2-light.svg?v=1');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  .wiggle-hover:hover {
    animation: wiggle 0.6s ease-in-out;
  }

  @keyframes wiggle {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(3deg); }
    50% { transform: rotate(-3deg); }
    75% { transform: rotate(2deg); }
    100% { transform: rotate(0deg); }
  }
}
