@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Oswald:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light (daytime) mode - parchment/wheat */
    --background: 44 31% 95%; /* #f5f1e8 */
    --foreground: 0 0% 20%;
    --sidebar-bg: 30 30% 6%; /* Brown in light mode */
    --content-bg: 44 31% 95%;

    /* Gold palette */
    --gold-text: 42 49% 58%; /* #C9A961 (all gold text) */
    --gold-dark: 40 38% 44%; /* #9B7E46 */
    --gold-base: 46 65% 52%; /* #D4AF37 */
    --gold-light: 38 60% 74%; /* #E5C896 */

    /* Sidebar text */
    --sidebar-text: 44 31% 95%; /* match light background */
    --sidebar-divider: 102 102 102; /* gray RGB */
    --sidebar-divider-alpha: 0.3; /* stronger in light mode */

    --popover: 44 31% 95%;
    --popover-foreground: 0 0% 15%;
    --border: 0 0% 85%;
    --radius: 0.5rem;
  }

  .dark {
    /* Dark (night) mode */
    --background: 30 30% 6%; /* rich dark brown */
    --foreground: 0 0% 92%;
    --sidebar-bg: 0 0% 0%; /* Black in dark mode */
    --content-bg: 30 30% 6%; /* rich dark brown */
    --sidebar-divider: 102 102 102; /* gray RGB */
    --sidebar-divider-alpha: 0.2; /* softer in dark mode */

    --popover: 220 25% 10%;
    --popover-foreground: 0 0% 95%;
    --border: 0 0% 25%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-[hsl(var(--content-bg))] text-foreground antialiased;
    font-family: 'EB Garamond', serif;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 3px;
    height: 3px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    /* Opacity fade: visible gold in middle, clean rectangle */
    background: linear-gradient(180deg,
      rgba(155, 126, 70, 0) 0%,
      rgba(155, 126, 70, 0.1) 15%,
      rgba(155, 126, 70, 1) 25%,
      rgba(212, 175, 55, 1) 50%,
      rgba(229, 200, 150, 1) 75%,
      rgba(229, 200, 150, 0.1) 85%,
      rgba(229, 200, 150, 0) 100%
    );
    border-radius: 0;
  }

  ::-webkit-scrollbar-thumb:hover {
    /* On hover: similar opacity fade with gold color */
    background: linear-gradient(180deg,
      rgba(201, 169, 97, 0) 0%,
      rgba(201, 169, 97, 0.1) 15%,
      rgba(201, 169, 97, 1) 25%,
      rgba(201, 169, 97, 1) 75%,
      rgba(201, 169, 97, 0.1) 85%,
      rgba(201, 169, 97, 0) 100%
    );
  }
}

/* Background texture - topographic contour map */
@layer utilities {
  .bg-topographic {
    background-image: url('/topo2.svg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  .bg-topographic-light {
    background-image: url('/topo2-light.svg?v=1');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
  }

  .wiggle-hover:hover {
    animation: wiggle 0.6s ease-in-out;
  }

  @keyframes wiggle {
    0% { transform: rotate(0deg); }
    25% { transform: rotate(3deg); }
    50% { transform: rotate(-3deg); }
    75% { transform: rotate(2deg); }
    100% { transform: rotate(0deg); }
  }
}
